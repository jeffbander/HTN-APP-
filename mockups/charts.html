<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Charts - HTN Monitor Admin</title>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: #f5f5f5; }

  .sidebar { position: fixed; left: 0; top: 0; bottom: 0; width: 240px; background: #1a1a2e; color: white; z-index: 100; }
  .sidebar-header { padding: 24px 20px; border-bottom: 1px solid rgba(255,255,255,0.1); display: flex; align-items: center; gap: 12px; }
  .sidebar-logo { width: 36px; height: 36px; background: #1976d2; border-radius: 8px; display: flex; align-items: center; justify-content: center; }
  .sidebar-logo svg { width: 20px; height: 20px; fill: white; }
  .sidebar-title { font-size: 16px; font-weight: 600; }
  .sidebar-subtitle { font-size: 11px; color: rgba(255,255,255,0.5); }
  .nav-section { padding: 16px 0; }
  .nav-label { padding: 8px 20px; font-size: 11px; text-transform: uppercase; color: rgba(255,255,255,0.4); letter-spacing: 1px; }
  .nav-item { display: flex; align-items: center; gap: 12px; padding: 10px 20px; color: rgba(255,255,255,0.7); text-decoration: none; font-size: 14px; transition: all 0.2s; cursor: pointer; }
  .nav-item:hover { background: rgba(255,255,255,0.05); color: white; }
  .nav-item.active { background: rgba(25,118,210,0.2); color: #64b5f6; border-right: 3px solid #1976d2; }
  .nav-icon { width: 20px; height: 20px; opacity: 0.7; }
  .nav-badge { margin-left: auto; background: #f44336; color: white; font-size: 11px; padding: 2px 8px; border-radius: 10px; font-weight: 600; }

  .header { position: fixed; top: 0; left: 240px; right: 0; height: 64px; background: white; border-bottom: 1px solid #e0e0e0; display: flex; align-items: center; justify-content: space-between; padding: 0 32px; z-index: 50; }
  .header-title { font-size: 20px; font-weight: 600; color: #1a1a1a; }
  .header-right { display: flex; align-items: center; gap: 16px; }
  .header-user { font-size: 14px; color: #666; }
  .logout-btn { padding: 8px 16px; border: 1px solid #ddd; border-radius: 6px; background: white; color: #666; font-size: 13px; cursor: pointer; }

  .main { margin-left: 240px; margin-top: 64px; padding: 32px; }

  .charts-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 24px; }
  .chart-card { background: white; border-radius: 12px; box-shadow: 0 1px 3px rgba(0,0,0,0.08); overflow: hidden; }
  .chart-card.full-width { grid-column: 1 / -1; }
  .chart-header { padding: 20px 24px 0; display: flex; justify-content: space-between; align-items: center; }
  .chart-title { font-size: 16px; font-weight: 600; color: #1a1a1a; }
  .chart-controls { display: flex; gap: 4px; }
  .period-btn { padding: 4px 12px; border: 1px solid #ddd; background: white; font-size: 12px; cursor: pointer; color: #666; }
  .period-btn:first-child { border-radius: 4px 0 0 4px; }
  .period-btn:last-child { border-radius: 0 4px 4px 0; }
  .period-btn.active { background: #1976d2; color: white; border-color: #1976d2; }
  .chart-subtitle { font-size: 13px; color: #888; padding: 4px 24px 0; }
  .chart-body { padding: 24px; }

  /* SVG Chart styles */
  .chart-svg { width: 100%; }
  .grid-line { stroke: #f0f0f0; stroke-width: 1; }
  .axis-label { font-size: 11px; fill: #999; }
  .line-systolic { stroke: #f44336; stroke-width: 2.5; fill: none; }
  .line-diastolic { stroke: #2196f3; stroke-width: 2.5; fill: none; }
  .area-fill { opacity: 0.15; }
  .data-point { r: 3; }

  .chart-legend { display: flex; gap: 24px; padding: 0 24px 20px; }
  .legend-item { display: flex; align-items: center; gap: 6px; font-size: 13px; color: #666; }
  .legend-line { width: 20px; height: 3px; border-radius: 2px; }

  /* Pie chart */
  .pie-container { display: flex; align-items: center; justify-content: center; gap: 40px; padding: 24px; }
  .pie-labels { display: flex; flex-direction: column; gap: 12px; }
  .pie-label { display: flex; align-items: center; gap: 10px; font-size: 14px; }
  .pie-dot { width: 14px; height: 14px; border-radius: 4px; }
  .pie-value { font-weight: 600; margin-left: auto; min-width: 40px; text-align: right; }
  .pie-pct { color: #999; font-size: 12px; min-width: 40px; text-align: right; }

  /* Bar chart */
  .bar-group { display: flex; align-items: flex-end; gap: 3px; }
  .bar-chart-container { display: flex; align-items: flex-end; gap: 16px; height: 200px; padding: 0 24px 8px; }
  .bar-col { display: flex; flex-direction: column; align-items: center; gap: 4px; flex: 1; }
  .bar { border-radius: 4px 4px 0 0; width: 100%; min-height: 2px; transition: opacity 0.2s; }
  .bar:hover { opacity: 0.8; }
  .bar-label { font-size: 10px; color: #999; text-align: center; }
  .bar-value { font-size: 11px; color: #666; font-weight: 500; }

  /* User growth area chart */
  .area-users { fill: #1976d2; opacity: 0.12; }
  .line-users { stroke: #1976d2; stroke-width: 2.5; fill: none; }
</style>
</head>
<body>

<nav class="sidebar">
  <div class="sidebar-header">
    <div class="sidebar-logo"><svg viewBox="0 0 24 24"><path fill="white" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg></div>
    <div><div class="sidebar-title">HTN Monitor</div><div class="sidebar-subtitle">Admin Dashboard</div></div>
  </div>
  <div class="nav-section">
    <div class="nav-label">Main</div>
    <a class="nav-item" href="dashboard.html">
      <svg class="nav-icon" viewBox="0 0 24 24" fill="currentColor"><path d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"/></svg>
      Dashboard
    </a>
    <a class="nav-item" href="users.html">
      <svg class="nav-icon" viewBox="0 0 24 24" fill="currentColor"><path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5z"/></svg>
      Users
      <span class="nav-badge">7</span>
    </a>
    <a class="nav-item" href="readings.html">
      <svg class="nav-icon" viewBox="0 0 24 24" fill="currentColor"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/></svg>
      Readings
    </a>
    <a class="nav-item active" href="charts.html">
      <svg class="nav-icon" viewBox="0 0 24 24" fill="currentColor"><path d="M3.5 18.49l6-6.01 4 4L22 6.92l-1.41-1.41-7.09 7.97-4-4L2 16.99z"/></svg>
      Charts
    </a>
  </div>
</nav>

<header class="header">
  <h1 class="header-title">Charts & Analytics</h1>
  <div class="header-right">
    <span class="header-user">admin@htnmonitor.org</span>
    <button class="logout-btn">Logout</button>
  </div>
</header>

<main class="main">
  <div class="charts-grid">

    <!-- BP Trends Line Chart -->
    <div class="chart-card full-width">
      <div class="chart-header">
        <span class="chart-title">Blood Pressure Trends</span>
        <div class="chart-controls">
          <button class="period-btn active">Daily</button>
          <button class="period-btn">Weekly</button>
          <button class="period-btn">Monthly</button>
        </div>
      </div>
      <div class="chart-subtitle">Average systolic and diastolic readings over the past 30 days</div>
      <div class="chart-legend">
        <div class="legend-item"><div class="legend-line" style="background:#f44336"></div> Avg Systolic</div>
        <div class="legend-item"><div class="legend-line" style="background:#2196f3"></div> Avg Diastolic</div>
        <div class="legend-item" style="margin-left: auto; color: #ccc;">&#9644; Stage 2 threshold (140/90)</div>
      </div>
      <div class="chart-body">
        <svg class="chart-svg" viewBox="0 0 800 250">
          <!-- Grid lines -->
          <line x1="40" y1="20" x2="780" y2="20" class="grid-line"/>
          <line x1="40" y1="60" x2="780" y2="60" class="grid-line"/>
          <line x1="40" y1="100" x2="780" y2="100" class="grid-line"/>
          <line x1="40" y1="140" x2="780" y2="140" class="grid-line"/>
          <line x1="40" y1="180" x2="780" y2="180" class="grid-line"/>
          <line x1="40" y1="220" x2="780" y2="220" class="grid-line"/>

          <!-- Y-axis labels -->
          <text x="35" y="24" class="axis-label" text-anchor="end">160</text>
          <text x="35" y="64" class="axis-label" text-anchor="end">140</text>
          <text x="35" y="104" class="axis-label" text-anchor="end">120</text>
          <text x="35" y="144" class="axis-label" text-anchor="end">100</text>
          <text x="35" y="184" class="axis-label" text-anchor="end">80</text>
          <text x="35" y="224" class="axis-label" text-anchor="end">60</text>

          <!-- Stage 2 threshold line -->
          <line x1="40" y1="60" x2="780" y2="60" stroke="#f44336" stroke-width="1" stroke-dasharray="6,4" opacity="0.3"/>
          <line x1="40" y1="180" x2="780" y2="180" stroke="#2196f3" stroke-width="1" stroke-dasharray="6,4" opacity="0.3"/>

          <!-- Systolic line (avg ~128-135) -->
          <polyline class="line-systolic" points="
            60,88 85,80 110,92 135,76 160,84 185,96 210,88 235,80
            260,72 285,84 310,92 335,88 360,76 385,80 410,96
            435,84 460,76 485,88 510,80 535,72 560,84 585,92
            610,80 635,76 660,88 685,84 710,76 735,80 760,72
          "/>

          <!-- Diastolic line (avg ~80-86) -->
          <polyline class="line-diastolic" points="
            60,176 85,180 110,172 135,184 160,176 185,168 210,180 235,176
            260,184 285,172 310,168 335,180 360,176 385,184 410,172
            435,180 460,176 485,168 510,180 535,184 560,172 585,176
            610,184 635,180 660,172 685,176 710,184 735,180 760,176
          "/>

          <!-- X-axis labels -->
          <text x="60" y="242" class="axis-label" text-anchor="middle">Jan 1</text>
          <text x="185" y="242" class="axis-label" text-anchor="middle">Jan 6</text>
          <text x="310" y="242" class="axis-label" text-anchor="middle">Jan 11</text>
          <text x="435" y="242" class="axis-label" text-anchor="middle">Jan 16</text>
          <text x="560" y="242" class="axis-label" text-anchor="middle">Jan 21</text>
          <text x="685" y="242" class="axis-label" text-anchor="middle">Jan 26</text>
        </svg>
      </div>
    </div>

    <!-- BP Category Pie Chart -->
    <div class="chart-card">
      <div class="chart-header">
        <span class="chart-title">BP Category Distribution</span>
      </div>
      <div class="chart-subtitle">Last 30 days (450 readings)</div>
      <div class="pie-container">
        <svg width="180" height="180" viewBox="0 0 180 180">
          <!-- Pie segments (approximate) -->
          <!-- Normal: 27% = 97 degrees -->
          <circle cx="90" cy="90" r="70" fill="transparent" stroke="#4caf50" stroke-width="35" stroke-dasharray="120 320" stroke-dashoffset="0" transform="rotate(-90 90 90)"/>
          <!-- Elevated: 21% = 76 degrees -->
          <circle cx="90" cy="90" r="70" fill="transparent" stroke="#fdd835" stroke-width="35" stroke-dasharray="92 348" stroke-dashoffset="-120" transform="rotate(-90 90 90)"/>
          <!-- Stage 1: 33% = 119 degrees -->
          <circle cx="90" cy="90" r="70" fill="transparent" stroke="#ff9800" stroke-width="35" stroke-dasharray="146 294" stroke-dashoffset="-212" transform="rotate(-90 90 90)"/>
          <!-- Stage 2: 16% = 58 degrees -->
          <circle cx="90" cy="90" r="70" fill="transparent" stroke="#f44336" stroke-width="35" stroke-dasharray="70 370" stroke-dashoffset="-358" transform="rotate(-90 90 90)"/>
          <!-- Crisis: 3% = 11 degrees -->
          <circle cx="90" cy="90" r="70" fill="transparent" stroke="#b71c1c" stroke-width="35" stroke-dasharray="13 427" stroke-dashoffset="-428" transform="rotate(-90 90 90)"/>
          <!-- Center text -->
          <text x="90" y="85" text-anchor="middle" font-size="24" font-weight="700" fill="#1a1a1a">450</text>
          <text x="90" y="105" text-anchor="middle" font-size="12" fill="#999">readings</text>
        </svg>
        <div class="pie-labels">
          <div class="pie-label">
            <div class="pie-dot" style="background:#4caf50"></div>
            Normal
            <span class="pie-value">120</span>
            <span class="pie-pct">27%</span>
          </div>
          <div class="pie-label">
            <div class="pie-dot" style="background:#fdd835"></div>
            Elevated
            <span class="pie-value">95</span>
            <span class="pie-pct">21%</span>
          </div>
          <div class="pie-label">
            <div class="pie-dot" style="background:#ff9800"></div>
            Stage 1
            <span class="pie-value">150</span>
            <span class="pie-pct">33%</span>
          </div>
          <div class="pie-label">
            <div class="pie-dot" style="background:#f44336"></div>
            Stage 2
            <span class="pie-value">70</span>
            <span class="pie-pct">16%</span>
          </div>
          <div class="pie-label">
            <div class="pie-dot" style="background:#b71c1c"></div>
            Crisis
            <span class="pie-value">15</span>
            <span class="pie-pct">3%</span>
          </div>
        </div>
      </div>
    </div>

    <!-- User Growth Chart -->
    <div class="chart-card">
      <div class="chart-header">
        <span class="chart-title">User Growth</span>
        <div class="chart-controls">
          <button class="period-btn">Daily</button>
          <button class="period-btn active">Weekly</button>
          <button class="period-btn">Monthly</button>
        </div>
      </div>
      <div class="chart-subtitle">Cumulative user registrations over 12 weeks</div>
      <div class="chart-body">
        <svg class="chart-svg" viewBox="0 0 400 220">
          <!-- Grid -->
          <line x1="30" y1="20" x2="380" y2="20" class="grid-line"/>
          <line x1="30" y1="60" x2="380" y2="60" class="grid-line"/>
          <line x1="30" y1="100" x2="380" y2="100" class="grid-line"/>
          <line x1="30" y1="140" x2="380" y2="140" class="grid-line"/>
          <line x1="30" y1="180" x2="380" y2="180" class="grid-line"/>

          <text x="25" y="24" class="axis-label" text-anchor="end">150</text>
          <text x="25" y="64" class="axis-label" text-anchor="end">120</text>
          <text x="25" y="104" class="axis-label" text-anchor="end">90</text>
          <text x="25" y="144" class="axis-label" text-anchor="end">60</text>
          <text x="25" y="184" class="axis-label" text-anchor="end">30</text>

          <!-- Area fill -->
          <polygon class="area-users" points="
            40,180 70,174 100,166 130,156 160,148 190,136 220,124
            250,116 280,104 310,88 340,72 370,44
            370,190 40,190
          "/>

          <!-- Line -->
          <polyline class="line-users" points="
            40,180 70,174 100,166 130,156 160,148 190,136 220,124
            250,116 280,104 310,88 340,72 370,44
          "/>

          <!-- Data points -->
          <circle cx="40" cy="180" r="3" fill="#1976d2"/>
          <circle cx="70" cy="174" r="3" fill="#1976d2"/>
          <circle cx="100" cy="166" r="3" fill="#1976d2"/>
          <circle cx="130" cy="156" r="3" fill="#1976d2"/>
          <circle cx="160" cy="148" r="3" fill="#1976d2"/>
          <circle cx="190" cy="136" r="3" fill="#1976d2"/>
          <circle cx="220" cy="124" r="3" fill="#1976d2"/>
          <circle cx="250" cy="116" r="3" fill="#1976d2"/>
          <circle cx="280" cy="104" r="3" fill="#1976d2"/>
          <circle cx="310" cy="88" r="3" fill="#1976d2"/>
          <circle cx="340" cy="72" r="3" fill="#1976d2"/>
          <circle cx="370" cy="44" r="3" fill="#1976d2"/>

          <!-- X labels -->
          <text x="40" y="202" class="axis-label" text-anchor="middle">W1</text>
          <text x="100" y="202" class="axis-label" text-anchor="middle">W3</text>
          <text x="160" y="202" class="axis-label" text-anchor="middle">W5</text>
          <text x="220" y="202" class="axis-label" text-anchor="middle">W7</text>
          <text x="280" y="202" class="axis-label" text-anchor="middle">W9</text>
          <text x="340" y="202" class="axis-label" text-anchor="middle">W11</text>
        </svg>
      </div>
    </div>

  </div>
</main>

</body>
</html>
